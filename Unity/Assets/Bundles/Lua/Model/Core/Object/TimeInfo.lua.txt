-- Generated by CSharp.lua Compiler
local System = System
local ET
System.import(function (out)
  ET = out.ET
end)
System.namespace("ET", function (namespace)
  namespace.class("TimeInfo", function (namespace)
    local getTimeZone, setTimeZone, Update, ToDateTime, ClientNow, ServerNow, ClientFrameTime, ServerFrameTime, 
    Transition, Dispose, class, static, __ctor__
    static = function (this)
      this.Instance = class()
    end
    __ctor__ = function (this)
      this.dt1970 = System.DateTime(1970, 1, 1, 0, 0, 0, 0, System.DateTimeKind.Utc)
      this.dt = System.DateTime(1970, 1, 1, 0, 0, 0, 0, System.DateTimeKind.Utc)
      this.FrameTime = ClientNow(this)
    end
    getTimeZone = function (this)
      return this.timeZone
    end
    setTimeZone = function (this, value)
      this.timeZone = value
      this.dt = this.dt1970:AddHours(getTimeZone(this))
    end
    Update = function (this)
      this.FrameTime = ClientNow(this)
    end
    -- <summary>
    -- 根据时间戳获取时间
    -- </summary>
    ToDateTime = function (this, timeStamp)
      return this.dt:AddTicks(timeStamp * 10000)
    end
    ClientNow = function (this)
      local ticks = System.DateTime.getNow():getTicks()
      return System.div((ticks - this.dt1970:getTicks()), 10000)
    end
    ServerNow = function (this)
      return ClientNow(this) + ET.Game.getTimeInfo().ServerMinusClientTime
    end
    ClientFrameTime = function (this)
      return this.FrameTime
    end
    ServerFrameTime = function (this)
      return this.FrameTime + ET.Game.getTimeInfo().ServerMinusClientTime
    end
    Transition = function (this, d)
      return System.div((d:getTicks() - this.dt:getTicks()), 10000)
    end
    Dispose = function (this)
      class.Instance = nil
    end
    class = {
      base = function (out)
        return {
          System.IDisposable
        }
      end,
      timeZone = 0,
      getTimeZone = getTimeZone,
      setTimeZone = setTimeZone,
      ServerMinusClientTime = 0,
      FrameTime = 0,
      Update = Update,
      ToDateTime = ToDateTime,
      ClientNow = ClientNow,
      ServerNow = ServerNow,
      ClientFrameTime = ClientFrameTime,
      ServerFrameTime = ServerFrameTime,
      Transition = Transition,
      Dispose = Dispose,
      static = static,
      __ctor__ = __ctor__
    }
    return class
  end)
end)
